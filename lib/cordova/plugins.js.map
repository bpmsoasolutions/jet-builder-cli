{"version":3,"sources":["../../src/cordova/plugins.js"],"names":["pluginPath","resolve","plugins","require","cd","Object","keys","map","key","plugin","id","source","url","variables","length","exec"],"mappings":";;;;;;;yDAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACQA,kCADR,GACqB,eAAKC,OAAL,CAAa,wBAAb,CADrB;AAEQC,+BAFR,GAEkBC,QAAQH,UAAR,CAFlB;;;AAII,0CAAMI,EAAN,CAAS,KAAT;;AAEA;AACAC,+BAAOC,IAAP,CAAYJ,OAAZ,EACKK,GADL,CACS,UAACC,GAAD,EAAO;AACR,gCAAIC,SAASP,QAAQM,GAAR,CAAb;AACA,gCAAIE,KAAMD,OAAOE,MAAP,CAAcD,EAAf,GAAqBD,OAAOE,MAAP,CAAcD,EAAnC,GAAwCD,OAAOE,MAAP,CAAcC,GAA/D;AACA,gCAAIC,YAAY,EAAhB;;AAEA;AACA,gCAAIJ,OAAOI,SAAP,IAAoBR,OAAOC,IAAP,CAAYG,OAAOI,SAAnB,EAA8BC,MAA9B,GAAuC,CAA/D,EAAkE;AAC9DD,6CAAa,YAAb;AACAR,uCAAOC,IAAP,CAAYG,OAAOI,SAAnB,EACKN,GADL,CACS,UAACC,GAAD,EAAO;AACRK,uDAAiBL,GAAjB,SAAwBC,OAAOI,SAAP,CAAiBL,GAAjB,CAAxB;AACH,iCAHL;AAIH;;AAED,8CAAMO,IAAN,CAAc,eAAKd,OAAL,aAAkB,2BAAlB,CAAd,oBAA2ES,EAA3E,SAAiFG,SAAjF;AACH,yBAhBL;;AAkBA,0CAAMT,EAAN,CAAS,IAAT;;AAzBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAeF,O;;;;;AALf;;;;AACA;;;;AAEA;;;;;;kBA8BeA,O","file":"plugins.js","sourcesContent":["import path from 'path'\nimport shell from 'shelljs'\n\nimport {pwd} from '../index'\n\nasync function plugins() {\n    let pluginPath = path.resolve('app/plugins/fetch.json')\n    let plugins = require(pluginPath);\n\n    shell.cd('app')\n\n    // Loop in plugins\n    Object.keys(plugins)\n        .map((key)=>{\n            let plugin = plugins[key]\n            let id = (plugin.source.id) ? plugin.source.id : plugin.source.url\n            let variables = ''\n\n            // Manage variables\n            if (plugin.variables && Object.keys(plugin.variables).length > 0) {\n                variables += '--variable'\n                Object.keys(plugin.variables)\n                    .map((key)=>{\n                        variables += ` ${key}=${plugin.variables[key]}`\n                    })\n            }\n\n            shell.exec(`${path.resolve(pwd, 'node_modules/.bin/cordova')} plugin add ${id} ${variables}`)\n        })\n\n    shell.cd('..')\n}\n\nexport default plugins;"]}