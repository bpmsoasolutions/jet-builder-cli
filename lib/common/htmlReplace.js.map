{"version":3,"sources":["../../src/common/htmlReplace.js"],"names":["args","index","readFileSync","join","split","process","argv","slice","length","text","output","cordova","indexOf","production","writeFileSync","encoding","htmlReplace"],"mappings":";;;;;;AAMA;;;yDAEA,iBAA2BA,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AACUC,6BADV,GACkB,aAAGC,YAAH,CAAgB,eAAKC,IAAL,CAAU,KAAV,EAAiB,YAAjB,CAAhB,EAAgD,OAAhD,CADlB;;;AAGIH,+BAAQA,IAAD,GAASA,KAAKI,KAAL,CAAW,GAAX,CAAT,GAA2BC,QAAQC,IAAR,CAAaC,KAAb,CAAmB,CAAnB,EAAsBF,QAAQC,IAAR,CAAaE,MAAnC,CAAlC;;AAEIC,4BALR,GAKeR,KALf;AAOQS,8BAPR,GAOkBV,KAAK,CAAL,CAAD,GAAYA,KAAK,CAAL,CAAZ,GAAsB,MAPvC;AAQQW,+BARR,GAQmBX,KAAKY,OAAL,CAAa,WAAb,IAA4B,CAAC,CARhD;AASQC,kCATR,GASsBb,KAAKY,OAAL,CAAa,cAAb,IAA+B,CAAC,CATtD;;;AAWI,4BAAID,OAAJ,EAAa;AACTF,mCAAO,wBAAY,oBAAZ,EAAkC,IAAlC,EAAwC,2EAAxC,EAAqHA,IAArH,CAAP;AACH,yBAFD,MAEO;AACHA,mCAAO,wBAAY,oBAAZ,EAAkC,IAAlC,EAAwC,EAAxC,EAA4CA,IAA5C,CAAP;AACH;;AAED,4BAAII,UAAJ,EAAe;AACXJ,mCAAO,wBAAY,mBAAZ,EAAiC,iBAAjC,EAAoD,6DAApD,EAAmHA,IAAnH,CAAP;AACAA,mCAAO,wBAAY,kBAAZ,EAAgC,gBAAhC,EAAkD,2EAAlD,EAA+HA,IAA/H,CAAP;AACH;;AAEDA,+BAAO,wBAAY,kBAAZ,EAAgC,IAAhC,kEAAsGA,IAAtG,CAAP;;AAEA,qCAAGK,aAAH,CAAiB,eAAKX,IAAL,CAAUO,MAAV,EAAkB,YAAlB,CAAjB,EAAkDD,IAAlD,EAAwD,EAACM,UAAU,OAAX,EAAxD;;AAxBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAeC,W;;;;;AARf;;;;AACA;;;;AACA;;;;AAEA;;;;;;kBA8BeA,W","file":"htmlReplace.js","sourcesContent":["import shell from 'shelljs'\nimport fs from 'fs'\nimport path from 'path'\n\nimport {textReplace} from '../utils/_utils'\n\n// $ htmlReplace [cordova or empty]\n\nasync function htmlReplace(args) {\n    const index = fs.readFileSync(path.join('src', 'index.html'), 'utf-8')\n\n    args = (args) ? args.split(' ') : process.argv.slice(3, process.argv.length)\n\n    let text = index\n\n    let output = (args[0]) ? args[0] : 'temp'\n    let cordova = (args.indexOf('--cordova') > -1)\n    let production = (args.indexOf('--production') > -1)\n\n    if (cordova) {\n        text = textReplace('<!-- cordovaJs -->', null, '<script type=\"text/javascript\" charset=\"utf-8\" src=\"cordova.js\"></script>', text)\n    } else {\n        text = textReplace('<!-- cordovaJs -->', null, '', text)\n    }\n\n    if (production){\n        text = textReplace('<!-- startCss -->', '<!-- endCss -->', '<link rel=\"stylesheet\" href=\"styles.css\" type=\"text/css\" />', text)\n        text = textReplace('<!-- startJs -->', '<!-- endJs -->', '<script type=\"text/javascript\" charset=\"utf-8\" src=\"scripts.js\"></script>', text)\n    }\n\n    text = textReplace('<!-- altaCss -->', null, `<link rel=\"stylesheet\" href=\"oj-alta.css\" type=\"text/css\" />`, text)\n\n    fs.writeFileSync(path.join(output, 'index.html'), text, {encoding: 'utf-8'})\n}\nexport default htmlReplace"]}